<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>遊戲語音</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      text-align: center;
    }
    #guideText {
        white-space: pre-line;
        background-color: #ffffff;
        border: 1px solid #ccc;
        padding: 20px;
        margin: 0 auto;
        text-align: left;
        max-width: 250px;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    button, img {
      margin: 8px;
      margin-top:20px;
      font-size: 16px;
      padding: 5px 15px;
    }
    audio {
      display: none;
    }
  </style>
</head>
<body>
  <div id="guideText">讀取中...</div>
  <button id="playPause">播放</button>
  <button id="reset">重播</button>
  <button id="next">下一步</button>

  <audio id="guideAudio"></audio>

  <script>
    const guideText = document.getElementById("guideText");
    const audio = document.getElementById("guideAudio");
    const playPause = document.getElementById("playPause");
    const reset = document.getElementById("reset");
    const next = document.getElementById("next");

    const count = parseInt(localStorage.getItem("playerCount")) || 7;

    const guides = {
    5: {
        audio: "guideaudio56.mp3",
        text: `5人局\n請所有人閉上眼睛\n單手握拳放在面前\n所有壞人舉起大拇指\n所有壞人睜開眼睛記住隊友\n5、4、3、2、1\n所有壞人閉上眼睛拇指繼續舉著\n梅林睜開眼睛確認壞人\n5、4、3、2、1\n梅林閉上眼睛\n所有壞人放下大拇指\n梅林與莫甘娜舉起大拇指\n派西維爾睜開眼睛確認兩人\n5、4、3、2、1\n派西維爾閉上眼睛\n梅林與莫甘娜放下大拇指\n遊戲開始`
    },
    6: {
        audio: "guideaudio56.mp3",
        text: `6人局\n請所有人閉上眼睛\n單手握拳放在面前\n所有壞人舉起大拇指\n所有壞人睜開眼睛記住隊友\n5、4、3、2、1\n所有壞人閉上眼睛拇指繼續舉著\n梅林睜開眼睛確認壞人\n5、4、3、2、1\n梅林閉上眼睛\n所有壞人放下大拇指\n梅林與莫甘娜舉起大拇指\n派西維爾睜開眼睛確認兩人\n5、4、3、2、1\n派西維爾閉上眼睛\n梅林與莫甘娜放下大拇指\n遊戲開始`
    },
    7: {
        audio: "guideaudio7.mp3",
        text: `7人局\n請所有人閉上眼睛\n單手握拳放在面前\n所有壞人舉起大拇指\n所有壞人睜開眼睛記住隊友\n5、4、3、2、1\n所有壞人閉上眼睛拇指繼續舉著\n莫德雷德放下大拇指\n梅林睜開眼睛確認壞人\n5、4、3、2、1\n梅林閉上眼睛\n所有壞人放下大拇指\n梅林與莫甘娜舉起大拇指\n派西維爾睜開眼睛確認兩人\n5、4、3、2、1\n派西維爾閉上眼睛\n梅林與莫甘娜放下大拇指\n遊戲開始`
    },
    8: {
        audio: "guideaudio7.mp3",
        text: `8人局\n請所有人閉上眼睛\n單手握拳放在面前\n所有壞人舉起大拇指\n所有壞人睜開眼睛記住隊友\n5、4、3、2、1\n所有壞人閉上眼睛拇指繼續舉著\n莫德雷德放下大拇指\n梅林睜開眼睛確認壞人\n5、4、3、2、1\n梅林閉上眼睛\n所有壞人放下大拇指\n梅林與莫甘娜舉起大拇指\n派西維爾睜開眼睛確認兩人\n5、4、3、2、1\n派西維爾閉上眼睛\n梅林與莫甘娜放下大拇指\n遊戲開始`
    },
    9: {
        audio: "guideaudio7.mp3",
        text: `9人局\n請所有人閉上眼睛\n單手握拳放在面前\n所有壞人舉起大拇指\n所有壞人睜開眼睛記住隊友\n5、4、3、2、1\n所有壞人閉上眼睛拇指繼續舉著\n莫德雷德放下大拇指\n梅林睜開眼睛確認壞人\n5、4、3、2、1\n梅林閉上眼睛\n所有壞人放下大拇指\n梅林與莫甘娜舉起大拇指\n派西維爾睜開眼睛確認兩人\n5、4、3、2、1\n派西維爾閉上眼睛\n梅林與莫甘娜放下大拇指\n遊戲開始`
    },
    10: {
        audio: "guideaudio10.mp3",
        text: `10人局\n請所有人閉上眼睛\n單手握拳放在面前\n除了奧伯倫以外\n其他壞人舉起大拇指\n除了奧伯倫以外的壞人\n睜開眼睛確認隊友\n5、4、3、2、1\n所有壞人閉上眼睛拇指繼續舉著\n奧伯倫舉起大拇指\n莫德雷德放下大拇指\n梅林睜開眼睛確認壞人\n5、4、3、2、1\n梅林閉上眼睛\n所有壞人放下大拇指\n梅林與莫甘娜舉起大拇指\n派西維爾睜開眼睛確認兩人\n5、4、3、2、1\n派西維爾閉上眼睛\n梅林與莫甘娜放下大拇指\n遊戲開始`
    }
    };

    const g = guides[count] || guides[7];
    guideText.textContent = g.text;
    audio.src = g.audio;

    playPause.onclick = () => {
    if (audio.paused) {
        audio.play();
        playPause.textContent = "暫停";
    } else {
        audio.pause();
        playPause.textContent = "播放";
    }
    };

    reset.onclick = () => {
    audio.pause();
    audio.currentTime = 0;
    playPause.textContent = "播放";
    };

    audio.onended = () => {
    playPause.textContent = "播放";
    };

    next.onclick = () => {
      window.location.href = "mission.html";
    };

  </script>
</body>
</html>

